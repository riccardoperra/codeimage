import {useI18n} from '@codeimage/locale';
import {Box, Text, VStack} from '@codeimage/ui';
import {Show} from 'solid-js';
import {AppLocaleEntries} from '../../../../i18n';
import {getDashboardState} from '../../dashboard.state';
import {CreateNewProjectButton} from '../CreateNewProjectButton/CreateNewProjectButton';
import * as styles from './ProjectList.css';

function EmptyBox() {
  return (
    <svg
      width="225"
      viewBox="0 0 559 476"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        opacity="0.1"
        d="M555.536 328.048C540.293 251.182 450.989 189.748 433.571 109.648C401.914 7.73898 297.57 -8.37302 229.765 35.886C122.328 106.015 236.941 123.418 26.2919 289.339C-25.7221 330.308 -9.14807 511.156 154.485 469.652C242.545 447.316 269.315 444.182 308.925 440.504C408.763 431.235 581.123 457.078 555.536 328.048Z"
        fill="#777"
      />
      <path
        d="M436.267 347.313L281.957 428.812L127.88 347.313V224.243H436.267V347.313Z"
        fill="currentColor"
      />
      <path
        d="M281.957 430.062C281.753 430.062 281.552 430.012 281.372 429.916L127.3 348.417C127.1 348.311 126.932 348.153 126.814 347.959C126.697 347.766 126.635 347.543 126.634 347.317V224.243C126.634 223.911 126.766 223.594 127 223.359C127.234 223.125 127.552 222.993 127.884 222.993H436.267C436.598 222.993 436.916 223.125 437.151 223.359C437.385 223.594 437.517 223.911 437.517 224.243V347.313C437.516 347.539 437.454 347.762 437.336 347.955C437.219 348.149 437.051 348.307 436.851 348.413L282.541 429.913C282.361 430.01 282.161 430.061 281.957 430.062ZM129.13 346.562L281.957 427.399L435.017 346.56V225.493H129.13V346.562Z"
        fill="#262626"
      />
      <path
        d="M436.267 197.834L281.957 116.335L351.298 82.912L505.608 164.412L436.267 197.834Z"
        fill="currentColor"
      />
      <path
        d="M436.267 199.084C436.063 199.084 435.863 199.035 435.683 198.94L281.373 117.44C281.168 117.332 280.998 117.169 280.881 116.97C280.763 116.771 280.703 116.543 280.707 116.311C280.712 116.08 280.78 115.855 280.905 115.66C281.029 115.465 281.206 115.309 281.414 115.208L350.755 81.785C350.931 81.6995 351.125 81.6569 351.321 81.6605C351.517 81.6642 351.709 81.714 351.882 81.806L506.192 163.306C506.396 163.414 506.567 163.577 506.684 163.776C506.802 163.975 506.862 164.203 506.858 164.434C506.853 164.665 506.785 164.891 506.66 165.086C506.536 165.28 506.359 165.437 506.151 165.537L436.81 198.96C436.641 199.042 436.455 199.084 436.267 199.084ZM284.73 116.384L436.293 196.432L502.835 164.359L351.272 84.313L284.73 116.384Z"
        fill="#262626"
      />
      <path
        d="M127.88 197.834L282.19 116.335L212.849 82.912L58.5389 164.412L127.88 197.834Z"
        fill="currentColor"
      />
      <path
        d="M127.88 199.084C127.692 199.084 127.506 199.042 127.337 198.96L57.9999 165.537C57.7916 165.437 57.6153 165.28 57.4905 165.086C57.3658 164.891 57.2975 164.665 57.2932 164.434C57.289 164.203 57.3489 163.975 57.4665 163.776C57.584 163.577 57.7545 163.414 57.9589 163.306L212.269 81.806C212.442 81.714 212.634 81.6642 212.83 81.6605C213.026 81.6569 213.22 81.6995 213.396 81.785L282.737 115.208C282.945 115.309 283.121 115.465 283.246 115.66C283.371 115.855 283.439 116.08 283.443 116.311C283.448 116.543 283.388 116.771 283.27 116.97C283.153 117.169 282.982 117.332 282.778 117.44L128.468 198.94C128.287 199.035 128.085 199.085 127.88 199.084ZM61.3119 164.361L127.854 196.434L279.417 116.386L212.875 84.313L61.3119 164.361Z"
        fill="#262626"
      />
      <path
        d="M202.849 324.006C202.645 324.006 202.445 323.956 202.265 323.861L47.9549 242.361C47.7557 242.255 47.5888 242.098 47.4718 241.905C47.3549 241.712 47.2922 241.491 47.2906 241.266C47.289 241.04 47.3484 240.818 47.4625 240.624C47.5766 240.43 47.7413 240.27 47.9389 240.161L127.28 196.738C127.461 196.639 127.664 196.586 127.871 196.584C128.078 196.583 128.281 196.633 128.464 196.73L282.774 278.23C282.973 278.336 283.14 278.493 283.257 278.686C283.374 278.879 283.437 279.1 283.438 279.325C283.44 279.551 283.38 279.772 283.266 279.967C283.152 280.161 282.988 280.321 282.79 280.43L203.449 323.853C203.265 323.953 203.059 324.006 202.849 324.006ZM51.1789 241.237L202.838 321.337L279.551 279.353L127.891 199.253L51.1789 241.237Z"
        fill="#262626"
      />
      <path
        d="M361.3 324.006C361.09 324.006 360.884 323.953 360.7 323.853L281.359 280.43C281.161 280.321 280.997 280.161 280.882 279.967C280.768 279.772 280.709 279.551 280.711 279.325C280.712 279.1 280.775 278.879 280.892 278.686C281.009 278.493 281.176 278.336 281.375 278.23L435.685 196.73C435.867 196.633 436.071 196.583 436.278 196.584C436.485 196.586 436.688 196.639 436.869 196.738L516.21 240.161C516.408 240.27 516.572 240.43 516.686 240.624C516.8 240.818 516.86 241.04 516.858 241.266C516.857 241.491 516.794 241.712 516.677 241.905C516.56 242.098 516.393 242.255 516.194 242.361L361.884 323.861C361.704 323.956 361.503 324.006 361.3 324.006ZM284.6 279.353L361.312 321.337L512.972 241.237L436.259 199.253L284.6 279.353Z"
        fill="#262626"
      />
      <path
        d="M127.88 197.834L282.19 279.334L202.849 322.756L48.5389 241.257L127.88 197.834Z"
        fill="currentColor"
      />
      <path
        d="M282.19 116.335L127.88 197.834L281.957 279.334L436.267 197.834L282.19 116.335Z"
        fill="#262626"
      />
      <path
        d="M436.267 197.834L281.957 279.334L361.298 322.756L515.608 241.257L436.267 197.834Z"
        fill="currentColor"
      />
      <path
        d="M283.207 279.333H280.707V428.812H283.207V279.333Z"
        fill="#262626"
      />
    </svg>
  );
}

export function ProjectEmptyListMessage() {
  const dashboard = getDashboardState()!;
  const [t] = useI18n<AppLocaleEntries>();

  const noMatchingProjects = () => {
    return (
      dashboard.search().length > 0 &&
      !dashboard.filteredData().length &&
      dashboard.data().length
    );
  };

  return (
    <div class={styles.fallbackContainer}>
      <EmptyBox />

      <VStack spacing={'2'} marginTop={6}>
        <Show
          when={noMatchingProjects()}
          fallback={
            <>
              <Text size={'2xl'} class={styles.fallbackTextTitle}>
                {t('dashboard.empty.title')}
              </Text>
              <Text
                // eslint-disable-next-line solid/no-innerhtml
                innerHTML={t('dashboard.empty.description')}
                size={'base'}
              />
              <Box marginTop={5}>
                <CreateNewProjectButton />
              </Box>
            </>
          }
        >
          <Text size={'2xl'} class={styles.fallbackTextTitle}>
            {t('dashboard.noMatchingProjects.title')}
          </Text>
          <Text
            size={'base'}
            // eslint-disable-next-line solid/no-innerhtml
            innerHTML={t('dashboard.noMatchingProjects.description')}
          />
        </Show>
      </VStack>
    </div>
  );
}
